{% extends 'admin/wizard/base_wizard.html.twig' %}

{% block main %}
    <h3>Step 5: Review & Save</h3>
    <p>Check the details of your configuration before finalizing.</p>

    <div class="card">
        <div class="card-body">
            <h5>Data Source:</h5>
            <p><strong>{{ wizardData.dataSource.name }}</strong></p>

            <h5>Selected Columns:</h5>
            <p>{{ wizardData.columns|join(', ')|default('No columns selected') }}</p>

            <h5>Charts:</h5>
            {% if wizardData.charts is defined and wizardData.charts is not empty %}
                {% for chart in wizardData.charts %}
                    <p>{{ chart.chartType.value }} - Labels: {{ chart.labels|join(', ') }}, Series: {{ chart.series|join(', ') }}</p>
                {% endfor %}
            {% else %}
                <p>No charts configured.</p>
            {% endif %}

            <h5>Dashboard Layout:</h5>
            <p>Tabs: {{ wizardData.visualization.tabs|join(', ') }}</p>
            <p>Sections: {{ wizardData.visualization.sections|join(', ') }}</p>
        </div>
    </div>

    {{ parent() }}
{% endblock %}
